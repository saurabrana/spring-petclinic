{
    "alerts": [
        {
            "name": "Internal Server Error Occurrence",
            "description": "Detects occurrences of internal server errors within the application, indicating potentially unhandled exceptions.",
            "query": "SELECT count(*) FROM Transaction WHERE appName = 'PetClinicApp' AND error.message = 'INTERNAL_SERVER_ERROR'",
            "duration": "5",
            "operator": "above",
            "threshold": "1",
            "priority": "critical",
            "rationale": "Sudden spikes or consistent occurrences of internal server errors may indicate uncaught exceptions or critical failures requiring immediate developer attention."
        },
        {
            "name": "Owner Not Found",
            "description": "Monitors errors when an owner ID is not found in the database, suggesting potential issues with the owner data.",
            "query": "SELECT count(*) FROM Error WHERE message LIKE 'Owner not found with id%' AND appName = 'PetClinicApp'",
            "duration": "5",
            "operator": "above",
            "threshold": "5",
            "priority": "warning",
            "rationale": "Occurrences of this error may indicate synchronization issues between the application and the database, possibly affecting user operations related to owner data."
        },
        {
            "name": "Database Connection Loss",
            "description": "Tracks occurrences of database connection loss which could affect application performance and user experience.",
            "query": "SELECT count(*) FROM Error WHERE message LIKE 'Database connection lost%' AND appName = 'PetClinicApp'",
            "duration": "10",
            "operator": "above",
            "threshold": "3",
            "priority": "critical",
            "rationale": "Frequent database connection losses can significantly degrade service availability and data integrity, requiring urgent investigation."
        },
        {
            "name": "High Database Response Time",
            "description": "Checks if the database response time exceeds the expected threshold, indicating potential performance issues.",
            "query": "SELECT average(responseTime) FROM Database WHERE appName = 'PetClinicApp'",
            "duration": "10",
            "operator": "above",
            "threshold": "200",
            "priority": "critical",
            "rationale": "Higher response times can lead to application slowdowns affecting the overall user experience and efficiency."
        },
        {
            "name": "Page Not Found Errors",
            "description": "Monitors the frequency of 404 errors to identify possible broken links or incorrect URLs within the application.",
            "query": "SELECT count(*) FROM Transaction WHERE error.message = '404 NOT FOUND' AND appName = 'PetClinicApp'",
            "duration": "10",
            "operator": "above",
            "threshold": "10",
            "priority": "warning",
            "rationale": "An increase in Page Not Found errors can indicate issues in navigation or dead links, impacting user experience and accessibility."
        }
    ],
    "policy_name": "PRISM:saurabrana/spring-petclinicAlerts"
}